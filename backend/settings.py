import os

# middlewares
API_KEY_NAME = "X-API-Key"
INIT_DATA_HEADER_NAME = "X-Telegram-Init-Data"
API_KEY = os.environ["API_KEY"]
EXCLUDED_AUTH_PATHS = {
    "/health",
    "/preview",
    "/docs",
    "/docs/oauth2-redirect",
    "/openapi.json",
    "/redoc"
}
EXCLUDED_DBSESSION_PATHS = {
    "/health",
    "/log-event",
    "/docs",
    "/docs/oauth2-redirect",
    "/openapi.json",
    "/redoc"
}

# main
ALLOW_ORIGINS = [
    "https://autogenz.com",
    "https://storage.googleapis.com",
    "http://localhost:5173",
]

# bot_app
BOT_TOKEN = os.environ["BOT_TOKEN"]
WEB_APP_URL = os.environ["WEB_APP_URL"]
ADMIN_ID = 267429209

# bq_utils
TABLE_ID = "autogen-1-438415.movieAI_logs.page_views"

# clients
KP_API_KEY = os.environ["KINOPOISK_API_KEY"]

#openai_utils
PROMPT_NUM_MOVIES = 20
TEMPERATURE_MOVIES = 0.9
TEMPERATURE_QA = 0.9
QUESTION_PREFIX_PATTERN = r'\{\s*"questions"\s*:\s*\['
MOVIES_PREFIX_PATTERN = r'\{\s*"movies"\s*:\s*\['
OVERRIDE_DATA = {
    "The Witch": "The VVitch: A New-England Folktale",
    "Train to Busan": "Busanhaeng",
    "Train to Busan 2": "Bando",
    "The Platform": "El Hoyo",
    "The Platform 2": "El Hoyo 2",
    "The Red Turtle": "La tortue rouge",
    "Nymphomaniac": "Nymphomaniac: Vol. I"
}
QUERY_STYLES = [
    "–í—ã–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–ª–∏ –∫—É–ª—å—Ç–æ–≤—ã–º–∏, –Ω–æ –º–∞–ª–æ–∏–∑–≤–µ—Å—Ç–Ω—ã —à–∏—Ä–æ–∫–æ–π –ø—É–±–ª–∏–∫–µ",
    "–ü–æ–¥–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—Ö–æ–¥–∏–ª–∏ –≤ –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä–∞—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Ç–∏—Ä–∞–∂–æ–º –∏–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏–∫–æ–≤",
    "–í—ã–¥–∞–π —Å–∞–º—ã–µ –Ω–µ–æ–±—ã—á–Ω—ã–µ –∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –ø–æ–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∂–∞–Ω—Ä–æ–≤—ã–µ —Ä–∞–º–∫–∏",
    "–ü–æ–¥–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –±—ã —É–¥–∏–≤–∏—Ç—å –¥–∞–∂–µ –∫–∏–Ω–æ–º–∞–Ω–æ–≤",
    "–°–¥–µ–ª–∞–π —Å–ø–∏—Å–æ–∫ –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω—ã—Ö —à–µ–¥–µ–≤—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç–æ–π–Ω—ã –±–æ–ª—å—à–µ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è",
    "–í—ã–¥–∞–π —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–æ–µ–≤–∞–ª–∏ –Ω–∞–≥—Ä–∞–¥—ã, –Ω–æ –Ω–µ —Å—Ç–∞–ª–∏ –º–∞—Å—Å–æ–≤–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏",
    "–ù–∞–π–¥–∏ –∑–∞–±—ã—Ç—ã–µ —Ñ–∏–ª—å–º—ã –ø—Ä–æ—à–ª–æ–≥–æ, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –ø–æ—á—Ç–∏ –Ω–∏–∫—Ç–æ –Ω–µ —Å–º–æ—Ç—Ä–∏—Ç",
    "–ü–æ–¥–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–ª–∏ –∫–∞—Å—Å–æ–≤—ã–º–∏ –ø—Ä–æ–≤–∞–ª–∞–º–∏, –Ω–æ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –ø—Ä–∏–æ–±—Ä–µ–ª–∏ –∫—É–ª—å—Ç–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å",
    "–í—ã–¥–∞–π —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω—å—à–µ –±—ã–ª–∏ –∑–∞–ø—Ä–µ—â–µ–Ω—ã –∫ –ø–æ–∫–∞–∑—É –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö",
    "–ù–∞–∑–æ–≤–∏ —Ñ–∏–ª—å–º—ã, —Å–Ω—è—Ç—ã–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ —Ä–µ–∂–∏—Å—Å–µ—Ä–∞–º–∏, –Ω–æ –¥–æ—Å—Ç–æ–π–Ω—ã–µ –≤–Ω–∏–º–∞–Ω–∏—è",
    "–ü–æ–¥–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∏–ª–∏ –≤—ã—Å–æ–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ –∫—Ä–∏—Ç–∏–∫–æ–≤, –Ω–æ –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å –≤ –ø—Ä–æ–∫–∞—Ç–µ",
    "–°–æ—Å—Ç–∞–≤—å —Å–ø–∏—Å–æ–∫ —Ä–µ–¥–∫–∏—Ö –∞—Ä—Ç—Ö–∞—É—Å–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤, –æ –∫–æ—Ç–æ—Ä—ã—Ö –º–∞–ª–æ –∫—Ç–æ —Å–ª—ã—à–∞–ª",
    "–í—ã–¥–∞–π —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–æ–µ–≤–∞–ª–∏ –ª—é–±–æ–≤—å –∑—Ä–∏—Ç–µ–ª–µ–π, –Ω–æ –Ω–µ –ø–æ–ª—É—á–∏–ª–∏ –Ω–∞–≥—Ä–∞–¥",
    "–ù–∞–π–¥–∏ –º–∞–ª–æ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –¥–µ–±—é—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –∫—É–ª—å—Ç–æ–≤—ã—Ö —Ä–µ–∂–∏—Å—Å–µ—Ä–æ–≤",
    "–í—ã–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑–≤–∞–ª–∏ —Å–ø–æ—Ä—ã –∏ —Å–∫–∞–Ω–¥–∞–ª—ã –ø—Ä–∏ –≤—ã–ø—É—Å–∫–µ",
    "–°–æ—Å—Ç–∞–≤—å —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫—É–ª—å—Ç–æ–≤—ã—Ö –∫–∞—Ä—Ç–∏–Ω",
    "–í—ã–¥–∞–π —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–∑–∞—Å–ª—É–∂–µ–Ω–Ω–æ –ø–æ–ª—É—á–∏–ª–∏ –Ω–∏–∑–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ –∫—Ä–∏—Ç–∏–∫–æ–≤, –Ω–æ –ª—é–±–∏–º—ã –∑—Ä–∏—Ç–µ–ª—è–º–∏",
    "–ü–æ–¥–±–µ—Ä–∏ –ª—É—á—à–∏–µ —Ñ–∏–ª—å–º—ã, —Å–Ω—è—Ç—ã–µ –≤—Å–µ–≥–æ –∑–∞ –Ω–µ–±–æ–ª—å—à–∏–µ –±—é–¥–∂–µ—Ç—ã, –Ω–æ –æ—Å—Ç–∞–≤–∏–≤—à–∏–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π —Å–ª–µ–¥ –≤ –∫–∏–Ω–æ–∏–Ω–¥—É—Å—Ç—Ä–∏–∏",
    "–ù–∞–∑–æ–≤–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å —Å–ª–æ–≤–∞–º–∏, –Ω–æ –æ–Ω–∏ –æ—Å—Ç–∞–≤–ª—è—é—Ç —Å–∏–ª—å–Ω–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ",
    "–í—ã–¥–∞–π —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è —Å –∫–∞–∂–¥—ã–º —Ä–∞–∑–æ–º –ø–æ-–Ω–æ–≤–æ–º—É –∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã",
    "–ü–æ–¥–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å –∏–≥—Ä–∞–µ—Ç –Ω–µ–æ–±—ã—á–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥–∞—á–∞ –∏–ª–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ",
    "–ù–∞–π–¥–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –≤—ã–ø—É—â–µ–Ω—ã –≤ –æ–¥–∏–Ω –≥–æ–¥ —Å –∫—Ä—É–ø–Ω—ã–º–∏ –±–ª–æ–∫–±–∞—Å—Ç–µ—Ä–∞–º–∏ –∏ –æ—Å—Ç–∞–ª–∏—Å—å –Ω–µ–∑–∞–º–µ—á–µ–Ω–Ω—ã–º–∏",
    "–í—ã–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–¥–æ—Ö–Ω–æ–≤–∏–ª–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–∂–∏—Å—Å–µ—Ä—Å–∫–∏–µ —Ö–∏—Ç—ã, –Ω–æ —Å–∞–º–∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤ —Ç–µ–Ω–∏",
    "–ü–æ–¥–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã —Å —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–∞—É–Ω–¥—Ç—Ä–µ–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–ª–∏ –∫—É–ª—å—Ç–æ–≤—ã–º–∏",
    "–í—ã–¥–∞–π —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –Ω–∞ —Å—Ç—ã–∫–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∂–∞–Ω—Ä–æ–≤ –∏ –Ω–µ –≤–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
    "–ù–∞–π–¥–∏ —Ä–µ–¥–∫–∏–µ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—Ö–æ–¥–∏–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ VHS –∏–ª–∏ –Ω–µ –±—ã–ª–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã",
    "–í—ã–¥–∞–π —Ñ–∏–ª—å–º—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≥–ª–∞–≤–Ω—É—é —Ä–æ–ª—å –∏–≥—Ä–∞—é—Ç –∞–∫—Ç–µ—Ä—ã, –µ—â–µ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ —Å—Ç–∞–ª–∏ –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–º–∏",
    "–°–æ—Å—Ç–∞–≤—å —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∏–ª–∏ –∫—É–ª—å—Ç–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –±–ª–∞–≥–æ–¥–∞—Ä—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏ –º–µ–º–∞–º",
    "–í—ã–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∑–∞–±—ã—Ç—ã —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º, –Ω–æ –∑–∞—Å–ª—É–∂–∏–≤–∞—é—Ç –≤—Ç–æ—Ä–æ–≥–æ —à–∞–Ω—Å–∞",
]

# gc_utils
BUCKET_NAME = "autogen-images"

# sql
SQL_PSWRD = os.environ["SQL_PSWRD"]
ASYNC_DATABASE_URL = f"postgresql+asyncpg://test:{SQL_PSWRD}@localhost/test"

# bot_app
BUTTON_TEXT = {
    "ru": "–û—Ç–∫—Ä—ã—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ",
    "en": "Open Mini App"
}

WELCOME_MESSAGE = {
    "ru": "üé¨ *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MovieAI!*\n\n"
          "–ü–æ–¥–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å–º –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é –∏–ª–∏ –∂–∞–Ω—Ä—É ‚Äî —Å –ø–æ–º–æ—â—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\n\n"
          "–û—Ç–ø—Ä–∞–≤—å—Ç–µ /help, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ–±–æ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö.\n\n"
          "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.\n\n",
    "en" : "üé¨ *Welcome to MovieAI!*\n\n"
           "Find a movie by description, mood, or genre ‚Äî using the app.\n\n"
           "Send /help to learn all the features.\n\n"
           "Tap the button below to get started.\n\n"
}

HELP_MESSAGE = {
    "ru": "‚ùì *–ß—Ç–æ —É–º–µ–µ—Ç MovieAI*\n\n"
          "–í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤:\n"
          "‚Ä¢  –ü–æ –∂–∞–Ω—Ä—É, –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ, –≥–æ–¥—É –∏ –¥—Ä—É–≥–∏–º —Ñ–∏–ª—å—Ç—Ä–∞–º\n"
          "‚Ä¢  –ü–æ –≤–∞—à–µ–º—É –æ–ø–∏—Å–∞–Ω–∏—é ‚Äî –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —á–∞—Ç–µ\n"
          "‚Ä¢  –ü–æ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–µ–º—É—Å—è —Ñ–∏–ª—å–º—É ‚Äî –Ω–∞–π–¥—ë—Ç –ø–æ—Ö–æ–∂–∏–µ\n\n"
          "‚ù§Ô∏è –í –ø–æ–¥–±–æ—Ä–µ ‚Äî –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ñ–∏–ª—å–º—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –ª—É—á—à–∏–µ –Ω–∞—Ö–æ–¥–∫–∏.\n\n"
          "–£ –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ—è, –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ? \n–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –±–æ—Ç—É ‚Äî –æ–Ω –≤—Å—ë —á–∏—Ç–∞–µ—Ç!\n\n"
          "–ù–∞–∂–º–∏—Ç–µ /start, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\n\n",
    "en" : "‚ùì *What MovieAI can do*\n\n"
            "You can search for movies in a way that suits you:\n"
            "‚Ä¢ By genre, atmosphere, year, and other filters\n"
            "‚Ä¢ By your description ‚Äî in an interactive chat\n"
            "‚Ä¢ By similar movies ‚Äî find more like the ones you like\n\n"
            "‚ù§Ô∏è In matching ‚Äî add movies to your favorites so you don‚Äôt lose great finds.\n\n"
            "Have an idea, question, or suggestion?\nJust send a message ‚Äî we read everything!\n\n"
            "Tap /start to open the mini-app\n\n"
}

FEEDBACK_MASSAGE = {
    "ru": "–°–ø–∞—Å–∏–±–æ –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å! –ú—ã –≤—Å—ë —É—á—Ç—ë–º üôå",
    "en": "Thanks for the feedback! We'll take it into account üôå"
}

PAYMENT_MESSAGE = {
    "ru": lambda amount: f"üéâ –ü–ª–∞—Ç—ë–∂ –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ! –¢–µ–±–µ –Ω–∞—á–∏—Å–ª–µ–Ω–æ {amount} –∑–≤–µ–∑–¥ ‚≠êÔ∏è",
    "en": lambda amount: f"üéâ Payment successful! You've received {amount} stars ‚≠êÔ∏è"
}